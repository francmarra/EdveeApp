@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - Edveeeeeee</title>
    <link rel="stylesheet" href="~/css/site.css" />
</head>
<body>
    @{
        var username = HttpContextAccessor.HttpContext.Session.GetString("user");
    }

    @if (!string.IsNullOrEmpty(username))
    {
        <!-- Layout com sidebar -->
        <div class="dashboard">
            <aside class="sidebar">
                <div class="logo">utad</div>
                <nav>
                    <ul>
                        <li><a href="#">Dados Pessoais</a></li>
                        <li><a href="#">Notificações</a></li>
                        <li><a href="#">Horário</a></li>
                        <li><a href="/UC/Index">Unidades Curriculares</a></li>
                        <li><a href="#">Balcão Académico</a></li>
                    </ul>
                </nav>
            </aside>

            <main class="main-content">
                <header class="user-header">
                    <div class="user-info">
                        <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="user icon" />
                        <span>@username</span>
                        <a href="/Conta/Logout" class="logout-link">Sair</a>
                        <span class="lang">| <span style="font-weight:bold;">PT</span> EN</span>
                    </div>
                </header>

                @RenderBody()
            </main>
        </div>
    }
    else
    {
        <!-- Layout simples para login -->
        <main>
            @RenderBody()
        </main>
    }
</body>

</html>
